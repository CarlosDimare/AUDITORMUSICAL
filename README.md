â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                             â•‘
â•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â•‘
â•‘    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—   â•‘
â•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â•‘
â•‘    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—   â•‘
â•‘    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â•‘
â•‘    â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•   â•šâ•â•    â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•   â•‘
â•‘                                                             â•‘
â•‘    â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—       â•‘
â•‘    â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘       â•‘
â•‘    â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘       â•‘
â•‘    â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘       â•‘
â•‘    â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â•‘
â•‘    â•šâ•â•     â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â• â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•  â•‘
â•‘                                                             â•‘
â•‘                 		                 ğŸ¶Dimare.           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Auditor Musical

`Auditor Musical` es un script de Python diseÃ±ado para monitorear un stream de audio por internet, reconocer las canciones que se estÃ¡n reproduciendo usando el motor de Shazam y registrar cada canciÃ³n en una hoja de cÃ¡lculo de Google Sheets, manteniendo tambiÃ©n un backup local en un archivo Excel.

El script muestra la informaciÃ³n en tiempo real en la consola, con un banner distintivo y salida coloreada para una fÃ¡cil lectura.

## CaracterÃ­sticas

-   **Monitoreo de Stream**: Graba periÃ³dicamente un segmento de cualquier stream de audio en vivo (radio por internet).
-   **Reconocimiento de Canciones**: Utiliza la biblioteca `shazamio` para identificar el tÃ­tulo y el artista de la canciÃ³n.
-   **Registro en la Nube**: Se conecta a la API de Google Sheets para guardar un registro histÃ³rico de todas las canciones reconocidas, con su respectiva marca de tiempo.
-   **Backup Local**: Guarda una copia de seguridad de todos los registros en un archivo `.xlsx` en la misma carpeta del script.
-   **Evita Duplicados**: El script es lo suficientemente inteligente como para no registrar la misma canciÃ³n dos veces seguidas.
-   **Interfaz de Consola**: Muestra un banner y registra la actividad en tiempo real con colores para una mejor visualizaciÃ³n.

## Requisitos

Para que el script funcione, necesitas tener lo siguiente:

### 1. Dependencias del Sistema

-   **FFmpeg**: Es una dependencia crucial que el script utiliza para grabar el segmento del stream de audio. Debes tenerlo instalado y accesible en el PATH de tu sistema.
    -   Puedes descargarlo desde [el sitio oficial de FFmpeg](https://ffmpeg.org/download.html).

### 2. Credenciales de Google

-   **Cuenta de Servicio de Google Cloud**: Para que el script pueda escribir en una Google Sheet, necesita un archivo de credenciales.
    1.  Sigue la [guÃ­a oficial de Google](https://docs.gspread.org/en/latest/oauth2.html) para crear una cuenta de servicio.
    2.  Descarga el archivo JSON con las credenciales y renÃ³mbralo a `credentials.json`.
    3.  Coloca el archivo `credentials.json` en la misma carpeta que el script.
    4.  **Importante**: No olvides compartir tu Google Sheet con el email de la cuenta de servicio (`client_email` que aparece en tu `credentials.json`) y darle permisos de "Editor".

### 3. Bibliotecas de Python

Las siguientes bibliotecas son necesarias. Puedes instalarlas todas juntas usando el archivo `requirements.txt` proporcionado.

-   `nest_asyncio`
-   `aiohttp`
-   `ffmpeg-python`
-   `shazamio`
-   `pandas`
-   `openpyxl` (necesario para que pandas escriba archivos .xlsx)
-   `pytz`
-   `pydub`
-   `gspread`
-   `google-oauth2-service-account`

## InstalaciÃ³n

1.  **Clona o descarga este repositorio.**

2.  **Instala FFmpeg**: AsegÃºrate de que FFmpeg estÃ© instalado en tu sistema y que el ejecutable estÃ© en el PATH.

3.  **Configura las credenciales**: Coloca tu archivo `credentials.json` en el directorio raÃ­z del proyecto.

4.  **Instala las dependencias de Python**: Abre una terminal en el directorio del proyecto y ejecuta:
    ```bash
    pip install -r requirements.txt
    ```

## ConfiguraciÃ³n

Antes de ejecutar el script, puedes ajustar las siguientes variables en la secciÃ³n `===== CONFIGURACIÃ“N =====` del archivo `AUDITOR-MUSICAL.py`:

-   `STREAM_URL`: La URL del stream de radio que quieres monitorear.
-   `INTERVALO_SEG`: El tiempo en segundos entre cada reconocimiento de canciÃ³n.
-   `OUTPUT_FILE`: El nombre del archivo Excel que se usarÃ¡ como backup local.
-   `GOOGLE_SHEET_NAME`: El nombre exacto de la hoja de cÃ¡lculo en tu Google Drive donde se guardarÃ¡n los registros.

## Uso

Una vez que hayas completado la instalaciÃ³n y configuraciÃ³n, simplemente ejecuta el script desde tu terminal:

```bash
python AUDITOR-MUSICAL.py
```

El script comenzarÃ¡ a ejecutarse, mostrarÃ¡ el banner y empezarÃ¡ a monitorear el stream. VerÃ¡s en la consola cada vez que una nueva canciÃ³n sea reconocida y registrada. Para detener el script, presiona `Ctrl + C`.

## Salida

El script genera dos archivos de registro:

1.  **Google Sheet**: Una hoja de cÃ¡lculo en tu Google Drive con las columnas `Hora`, `TÃ­tulo` y `Artista`.
2.  **Archivo Excel Local**: Un archivo (por defecto `resultados.xlsx`) con la misma estructura, que sirve como respaldo.

---

*Este README fue generado por Gemini.*